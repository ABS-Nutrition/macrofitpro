<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MacroFit Pro ‚Äî Ultra Calculs</title>

<style>
:root{
  --bg:#050709;
  --marble1:#0b0f14;
  --marble2:#121822;
  --panel:#0f141b;
  --input:#111820;
  --border:#2b3644;
  --gold:#D4AF37;
  --gold-light:#F0D48A;
  --text:#E8EEF4;
  --muted:#9AA6B2;
  --green:#c9f02f;
  --orange:#ffb347;
  --red:#ff5f5f;
}

/* GLOBAL */
*{box-sizing:border-box;}
body{
  margin:0;
  padding:0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  background:radial-gradient(circle at top, var(--marble2), var(--marble1));
  color:var(--text);
  min-height:100vh;
}

/* APP CONTAINER */
.app{
  max-width: 760px;
  margin:30px auto;
  background:linear-gradient(135deg, var(--marble1), var(--marble2));
  padding:24px;
  border-radius:22px;
  box-shadow:0 0 40px rgba(212,175,55,.15);
  border:1px solid var(--gold);
}

/* HEADER */
.header{text-align:center;margin-bottom:18px;}
h1{
  margin:0;
  background:linear-gradient(90deg,var(--gold),var(--gold-light));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  font-size:26px;
  font-weight:900;
}
.subtitle{font-size:13px;color:var(--muted);margin-top:6px;}

/* SECTIONS */
.section{
  margin-top:22px;
  padding-top:18px;
  border-top:1px solid var(--border);
}
.section h2{
  color:var(--gold);
  font-size:18px;
}

/* FIELDS */
.field{ margin-top:12px; }
label{
  display:block;
  font-weight:700;
  margin-bottom:5px;
  font-size:14px;
  color:var(--muted);
}
input, select{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid var(--border);
  background:var(--input);
  color:white;
  font-size:16px;
}

/* BUTTON */
button{
  width:100%;
  margin-top:18px;
  padding:14px;
  border-radius:16px;
  border:none;
  background:linear-gradient(90deg, var(--gold), var(--gold-light));
  color:#050709;
  font-weight:900;
  font-size:16px;
  text-transform:uppercase;
  letter-spacing:1px;
  box-shadow:0 0 18px rgba(212,175,55,.25);
}

/* RESULTS PAGE */
#resultsPage{display:none;}

/* TABLES */
.table-box{
  margin-top:18px;
  background:linear-gradient(135deg, #0b0f14, #0f141b);
  padding:14px;
  border-radius:16px;
  border-left:5px solid var(--gold);
}
table{
  width:100%;
  border-collapse:collapse;
  margin-top:8px;
}
th, td{
  border:1px solid var(--border);
  padding:8px;
  text-align:center;
  font-size:14px;
}
th{
  background:#0b0f14;
  color:var(--gold);
}

/* EXPLANATIONS */
.explain{
  background:#0b0f14;
  padding:14px;
  border-radius:14px;
  border:1px solid var(--border);
  margin-top:10px;
  font-size:13px;
  color:var(--muted);
}

/* FOOTER */
.footer{
  margin-top:18px;
  font-size:12px;
  text-align:center;
  color:var(--muted);
}
</style>
</head>

<body>

<div class="app">

<div class="header">
  <h1>‚öúÔ∏è MacroFit Pro ‚Äî Ultra Calculs ‚öúÔ∏è</h1>
  <div class="subtitle">Analyse m√©tabolique, morphologique et performance avanc√©e</div>
</div>

<!-- ========== FORMULAIRE ========== -->
<div id="formPage">

<div class="section">
<h2>1) Donn√©es de base</h2>

<div class="field"><label>√Çge</label><input id="age" type="number"></div>
<div class="field"><label>Taille (cm)</label><input id="taille" type="number"></div>
<div class="field"><label>Poids (kg)</label><input id="poids" type="number"></div>

<div class="field">
  <label>Tour de taille (cm) (facultatif)</label>
  <input id="tour" type="number">
</div>

<div class="field">
  <label>Sexe</label>
  <select id="sexe">
    <option value="M">Homme</option>
    <option value="F">Femme</option>
  </select>
</div>

<div class="field">
  <label>Niveau d‚Äôactivit√©</label>
  <select id="activite">
    <option value="1.2">S√©dentaire ‚Äî 0‚Äì1 s√©ance / semaine</option>
    <option value="1.375">L√©g√®rement actif ‚Äî 1‚Äì2 s√©ances / semaine</option>
    <option value="1.55">Mod√©r√© ‚Äî 3‚Äì5 s√©ances / semaine</option>
    <option value="1.725">Tr√®s actif ‚Äî 5‚Äì6 s√©ances / semaine</option>
    <option value="1.9">Extr√™me ‚Äî 7+ s√©ances / semaine</option>
  </select>
</div>

<div class="field">
  <label>Sommeil (h)</label>
  <input id="sommeil" type="number">
</div>

<div class="field">
  <label>Stress (1‚Äì10) (facultatif)</label>
  <input id="stress" type="number">
</div>
</div>

<div class="section">
<h2>2) Morphologie</h2>
<select id="morpho">
  <option value="auto">Auto</option>
  <option value="ecto">Ectomorphe</option>
  <option value="meso">M√©somorphe</option>
  <option value="endo">Endomorphe</option>
</select>
</div>

<button onclick="calculate()">CALCULER</button>
</div>

<!-- ========== PAGE R√âSULTATS ========== -->
<div id="resultsPage">

<div class="section">
<h2>R√©sultats ‚Äî M√©tabolisme</h2>
<div class="table-box">
<table>
<tr><th>BMR Harris</th><th>BMR Mifflin</th><th>TDEE brut</th><th>TDEE ajust√©</th></tr>
<tr>
<td id="bmr_hb"></td>
<td id="bmr_m"></td>
<td id="tdee_brut"></td>
<td id="tdee_adj"></td>
</tr>
</table>
</div>

<div class="explain">
<b>BMR</b> = calories n√©cessaires au repos complet (respirer, c≈ìur, cerveau).  
<b>TDEE</b> = d√©pense calorique totale quotidienne incluant l‚Äôactivit√©.
</div>
</div>

<div class="section">
<h2>R√©sultats ‚Äî Morphologie & Composition</h2>
<div class="table-box">
<table>
<tr>
<th>IMC</th><th>Cat√©gorie</th><th>% Masse grasse</th><th>Masse maigre (kg)</th><th>Poids id√©al</th>
</tr>
<tr>
<td id="imc"></td>
<td id="imc_cat"></td>
<td id="bf"></td>
<td id="lean_mass"></td>
<td id="ideal"></td>
</tr>
</table>
</div>

<div class="explain">
<b>IMC</b> = rapport poids/taille (indicateur global).  
<b>Masse grasse</b> = pourcentage de graisse corporelle estim√©e.  
<b>Masse maigre</b> = poids sans graisse (muscles, os, organes).  
<b>Poids id√©al</b> = poids th√©orique bas√© sur un IMC sant√©.
</div>
</div>

<div class="section">
<h2>R√©sultats ‚Äî Performance & R√©cup√©ration</h2>
<div class="table-box">
<table>
<tr>
<th>Score fatigue</th><th>Ajustement calories</th><th>Priorit√©s</th>
</tr>
<tr>
<td id="fatigue"></td>
<td id="cal_adj"></td>
<td id="recup"></td>
</tr>
</table>
</div>

<div class="explain">
<b>Fatigue</b> = score bas√© sur sommeil + stress pour ajuster les calories.  
Un score √©lev√© ‚Üí besoin de r√©cup√©ration.
</div>
</div>

<div class="section">
<h2>Macros (g/jour)</h2>
<div class="table-box">
<table>
<tr><th>Objectif</th><th>Prot√©ines</th><th>Lipides</th><th>Glucides</th></tr>
<tr>
<td>Maintien</td>
<td id="p_maint"></td><td id="l_maint"></td><td id="g_maint"></td>
</tr>
<tr>
<td>S√®che</td>
<td id="p_cut"></td><td id="l_cut"></td><td id="g_cut"></td>
</tr>
<tr>
<td>Prise</td>
<td id="p_bulk"></td><td id="l_bulk"></td><td id="g_bulk"></td>
</tr>
</table>
</div>

<div class="explain">
<b>Prot√©ines</b> = construction et r√©paration musculaire.  
<b>Lipides</b> = hormones, sant√© cellulaire, cerveau.  
<b>Glucides</b> = carburant principal pour l‚Äôentra√Ænement.
</div>
</div>

<button onclick="window.print()">T√âL√âCHARGER EN PDF</button>

<div class="footer">MacroFit Pro ‚Äî Ultra Calculs</div>
</div>

<script>
function calculate(){

const age = parseFloat(document.getElementById("age").value);
const taille = parseFloat(document.getElementById("taille").value);
const poids = parseFloat(document.getElementById("poids").value);
const tour = parseFloat(document.getElementById("tour").value);
const sexe = document.getElementById("sexe").value;
const act = parseFloat(document.getElementById("activite").value);
const sommeil = parseFloat(document.getElementById("sommeil").value) || 7;
const stress = parseFloat(document.getElementById("stress").value) || 5;
const morpho = document.getElementById("morpho").value;

// =====================
// üîπ M√âTABOLISME (BMR / TDEE)
// =====================

// BMR Harris-Benedict
const bmr_hb = (sexe==="M")
? 66 + (13.7*poids) + (5*taille) - (6.8*age)
: 655 + (9.6*poids) + (1.8*taille) - (4.7*age);

// BMR Mifflin (r√©f√©rence moderne)
const bmr_m = (sexe==="M")
? (10*poids)+(6.25*taille)-(5*age)+5
: (10*poids)+(6.25*taille)-(5*age)-161;

// TDEE brut
const tdee_brut = bmr_m * act;

// Ajustement selon morphotype
let tdee_adj = tdee_brut;
if(morpho==="ecto") tdee_adj*=1.05;
if(morpho==="endo") tdee_adj*=0.95;

// =====================
// üîπ IMC + CAT√âGORIE
// =====================
const imc = poids / Math.pow(taille/100,2);
let imc_cat = imc<18.5?"Maigreur":imc<25?"Normal":imc<30?"Surpoids":"Ob√©sit√©";

// =====================
// üîπ MASSE GRASSE & MASSE MAIGRE (YMCA)
// =====================
let bf = "‚Äî";
let lean_mass = "‚Äî";

if(!isNaN(tour) && tour > 0){

  if(sexe==="M"){
    let lean = (1.082*poids) + 94.42 - (4.15*tour);
    bf = (((poids - lean) / poids) * 100).toFixed(1) + "%";
    lean_mass = (poids * (1 - parseFloat(bf)/100)).toFixed(1);
  } else {
    let lean = (0.732*poids) + 8.987 + (0.157*tour);
    bf = (((poids - lean) / poids) * 100).toFixed(1) + "%";
    lean_mass = (poids * (1 - parseFloat(bf)/100)).toFixed(1);
  }
}

// =====================
// üîπ POIDS ID√âAL
// =====================
const ideal = (22.5*Math.pow(taille/100,2)).toFixed(1);

// =====================
// üîπ FATIGUE
// =====================
const fatigue = Math.max(0,Math.min(10,(10-sommeil)+(stress/2)));
let cal_adj = fatigue>=7?"-150 kcal":fatigue>=4?"Maintien":"+150 kcal";
let recup = fatigue>=7?"Sommeil + magn√©sium":"Hydratation";

// =====================
// üîπ MACROS (FORMULES ACTUELLES ‚Äî PRO)
// =====================

// ü•© PROT√âINES (g/j) ‚Äî jusqu‚Äô√† 2,6 g/kg
const p_maint = poids * 2.2;
const p_cut   = poids * 2.6;
const p_bulk  = poids * 2.0;

// üßà LIPIDES (g/j)
const l_maint = poids * 0.8;
const l_cut   = poids * 0.7;
const l_bulk  = poids * 0.9;

// üçö GLUCIDES (g/j) ‚Äî par diff√©rence calorique
const g_maint = (tdee_adj - (p_maint*4) - (l_maint*9)) / 4;
const g_cut   = (tdee_adj - 350 - (p_cut*4) - (l_cut*9)) / 4;
const g_bulk  = (tdee_adj + 350 - (p_bulk*4) - (l_bulk*9)) / 4;

// =====================
// üîπ AFFICHAGE R√âSULTATS
// =====================

document.getElementById("bmr_hb").innerText = Math.round(bmr_hb);
document.getElementById("bmr_m").innerText = Math.round(bmr_m);
document.getElementById("tdee_brut").innerText = Math.round(tdee_brut);
document.getElementById("tdee_adj").innerText = Math.round(tdee_adj);

document.getElementById("imc").innerText = imc.toFixed(1);
document.getElementById("imc_cat").innerText = imc_cat;
document.getElementById("bf").innerText = bf;
document.getElementById("lean_mass").innerText = lean_mass;
document.getElementById("ideal").innerText = ideal;

document.getElementById("fatigue").innerText = fatigue.toFixed(1)+"/10";
document.getElementById("cal_adj").innerText = cal_adj;
document.getElementById("recup").innerText = recup;

// MACROS
document.getElementById("p_maint").innerText = Math.round(p_maint);
document.getElementById("l_maint").innerText = Math.round(l_maint);
document.getElementById("g_maint").innerText = Math.round(g_maint);

document.getElementById("p_cut").innerText = Math.round(p_cut);
document.getElementById("l_cut").innerText = Math.round(l_cut);
document.getElementById("g_cut").innerText = Math.round(g_cut);

document.getElementById("p_bulk").innerText = Math.round(p_bulk);
document.getElementById("l_bulk").innerText = Math.round(l_bulk);
document.getElementById("g_bulk").innerText = Math.round(g_bulk);

// BASCULER VERS PAGE R√âSULTATS
document.getElementById("formPage").style.display="none";
document.getElementById("resultsPage").style.display="block";
}
</script>

</body>
</html>
