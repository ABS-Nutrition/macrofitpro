<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MacroFit Pro ‚Äî Optimis√©</title>

<style>
:root{
  --bg1:#0F1C3A;
  --bg2:#1F4B9C;
  --panel:#F4F6FA;
  --card:#FFFFFF;
  --border:#E1E6EE;
  --gold:#C9A227;
  --text:#0B132B;
  --muted:#5F6F8A;
}

/* GLOBAL */
*{box-sizing:border-box;}
body{
  margin:0;
  padding:0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  background:linear-gradient(180deg, var(--bg1), var(--bg2));
  color:var(--text);
  min-height:100vh;
}

/* APP CONTAINER */
.app{
  max-width: 900px;
  margin:30px auto;
  background:var(--panel);
  padding:26px;
  border-radius:22px;
  box-shadow:0 0 30px rgba(0,0,0,.15);
}

/* MENU */
.menu{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:20px;
}
.menu button{
  background:var(--bg2);
  color:white;
  border:none;
  padding:10px 14px;
  border-radius:12px;
  font-weight:bold;
}

/* SECTIONS */
.section{
  margin-top:22px;
  padding-top:18px;
  border-top:1px solid var(--border);
}
.section h2{
  color:var(--bg2);
}

/* TABLES */
.table-box{
  margin-top:18px;
  background:var(--card);
  padding:14px;
  border-radius:16px;
  border-left:5px solid var(--gold);
}
table{
  width:100%;
  border-collapse:collapse;
}
th, td{
  border:1px solid var(--border);
  padding:8px;
  text-align:center;
  font-size:13px;
}

/* EXPLANATIONS */
.explain{
  background:#F1F3F7;
  padding:14px;
  border-radius:14px;
  margin-top:10px;
  font-size:13px;
}

/* INTERPRETATION */
.interpretation{
  background:#E6F4FF;
  padding:14px;
  border-radius:14px;
  border-left:5px solid var(--bg2);
  margin-top:16px;
}

/* BUTTONS */
button{
  width:100%;
  margin-top:18px;
  padding:14px;
  border-radius:16px;
  border:none;
  background:linear-gradient(90deg, var(--bg2), var(--gold));
  color:white;
  font-weight:900;
}
</style>
</head>

<body>

<div class="app">

<!-- ============== MENU ============== -->
<div class="menu">
  <h1>MacroFit Pro</h1>
  <button onclick="showForm()">Nouvel utilisateur</button>
</div>

<!-- ============== FORMULAIRE ============== -->
<div id="formPage">

<div class="section">
<h2>Donn√©es</h2>
<input id="age" type="number" placeholder="√Çge (ans)">
<input id="taille" type="number" placeholder="Taille (cm)">
<input id="poids" type="number" placeholder="Poids (kg)">
<select id="sexe">
  <option value="M">Homme</option>
  <option value="F">Femme</option>
</select>
<select id="activite">
  <option value="1.2">S√©dentaire</option>
  <option value="1.375">L√©ger</option>
  <option value="1.55">Mod√©r√©</option>
  <option value="1.725">Tr√®s actif</option>
  <option value="1.9">Extr√™me</option>
</select>
<select id="morpho">
  <option value="auto">Auto</option>
  <option value="ecto">Ectomorphe</option>
  <option value="meso">M√©somorphe</option>
  <option value="endo">Endomorphe</option>
</select>
</div>

<button onclick="calculate()">CALCULER</button>
</div>

<!-- ============== PAGE R√âSULTATS ============== -->
<div id="resultsPage" style="display:none;">

<div class="section">
<h2>üî¨ M√©tabolisme</h2>
<div class="table-box">
<table>
<tr><th>BMR (kcal/j)</th><th>TDEE (kcal/j)</th></tr>
<tr><td id="bmr"></td><td id="tdee"></td></tr>
</table>
</div>
<div class="explain">
BMR = √©nergie au repos ‚Ä¢ TDEE = d√©pense totale quotidienne.
</div>
</div>

<div class="section">
<h2>üìè IMC & Seuils</h2>
<div class="table-box">
<table>
<tr><th>IMC</th><th>Cat√©gorie</th><th>Poids id√©al</th><th>Surpoids d√®s</th><th>Maigreur sous</th></tr>
<tr>
<td id="imc"></td>
<td id="imc_cat"></td>
<td id="ideal"></td>
<td id="overweight"></td>
<td id="underweight"></td>
</tr>
</table>
</div>
<div class="explain">
&lt;18.5 = maigreur ‚Ä¢ 18.5‚Äì24.9 = normal ‚Ä¢ 25‚Äì29.9 = surpoids ‚Ä¢ ‚â•30 = ob√©sit√©.
</div>
</div>

<!-- MACROS -->
<div class="section">
<h2>üçó Prot√©ines (kcal ‚Üí g/j)</h2>
<div class="table-box">
<table>
<tr><th>Objectif</th><th>kcal</th><th>g/j</th></tr>
<tr><td>Maintien</td><td id="pcal_maint"></td><td id="p_maint"></td></tr>
<tr><td>S√®che</td><td id="pcal_cut"></td><td id="p_cut"></td></tr>
<tr><td>Prise</td><td id="pcal_bulk"></td><td id="p_bulk"></td></tr>
</table>
</div>
<div class="explain">
Prot√©ines = construction musculaire, r√©cup√©ration et sati√©t√©.
</div>
</div>

<div class="section">
<h2>ü•ë Lipides (kcal ‚Üí g/j)</h2>
<div class="table-box">
<table>
<tr><th>Objectif</th><th>kcal</th><th>g/j</th></tr>
<tr><td>Maintien</td><td id="lcal_maint"></td><td id="l_maint"></td></tr>
<tr><td>S√®che</td><td id="lcal_cut"></td><td id="l_cut"></td></tr>
<tr><td>Prise</td><td id="lcal_bulk"></td><td id="l_bulk"></td></tr>
</table>
</div>
<div class="explain">
Lipides = hormones, cerveau et absorption des vitamines A/D/E/K.
</div>
</div>

<div class="section">
<h2>üçö Glucides (kcal ‚Üí g/j)</h2>
<div class="table-box">
<table>
<tr><th>Objectif</th><th>kcal</th><th>g/j</th></tr>
<tr><td>Maintien</td><td id="gcal_maint"></td><td id="g_maint"></td></tr>
<tr><td>S√®che</td><td id="gcal_cut"></td><td id="g_cut"></td></tr>
<tr><td>Prise</td><td id="gcal_bulk"></td><td id="g_bulk"></td></tr>
</table>
</div>
<div class="explain">
Glucides = √©nergie principale pour l‚Äôentra√Ænement et la r√©cup√©ration.
</div>
</div>

<div class="section">
<h2>üìä Indicateurs Quotidiens</h2>
<p><b>Hydratation :</b> <span id="water"></span></p>
<p><b>Objectif recommand√© :</b> <span id="objective"></span></p>
</div>

<div class="section">
<h2>üß¨ Analyse M√©tabolique</h2>
<p><b>Score m√©tabolique :</b> <span id="score"></span>/100</p>
<p><b>D√©pense estim√©e par s√©ance :</b> <span id="burn"></span> kcal</p>
</div>

<div class="section">
<h2>üèÜ Recommandations</h2>
<p><b>Compl√©ments :</b> <span id="supps"></span></p>
<p><b>Plan d‚Äôentra√Ænement :</b> <span id="plan"></span></p>
<p><b>Zig-zag calorique :</b> <span id="zigzag"></span></p>
</div>

<div class="interpretation">
<h3>Interpr√©tation personnalis√©e</h3>
<p id="advice"></p>
</div>

<button onclick="window.print()">T√âL√âCHARGER PDF</button>
</div>

<script>
function showForm(){
document.getElementById("formPage").style.display="block";
document.getElementById("resultsPage").style.display="none";
}

function calculate(){

const age = +document.getElementById("age").value;
const taille = +document.getElementById("taille").value;
const poids = +document.getElementById("poids").value;
const sexe = document.getElementById("sexe").value;
const act = +document.getElementById("activite").value;
const morpho = document.getElementById("morpho").value;

// ==== BMR ====
const bmr = (sexe==="M")
? (10*poids)+(6.25*taille)-(5*age)+5
: (10*poids)+(6.25*taille)-(5*age)-161;

// ==== TDEE ====
let tdee = bmr * act;
if(morpho==="ecto") tdee*=1.05;
if(morpho==="endo") tdee*=0.95;

// ==== IMC ====
const h = taille/100;
const imc = poids/(h*h);
let imc_cat = imc<18.5?"Maigreur":imc<25?"Normal":imc<30?"Surpoids":"Ob√©sit√©";
const ideal = (22.5*h*h).toFixed(1);
const overweight = (25*h*h).toFixed(1);
const underweight = (18.5*h*h).toFixed(1);

// ==== MACROS ====
let p_maint = poids*2.2;
let p_cut = poids*2.6;
let p_bulk = poids*2.0;

let l_maint = poids*0.8;
let l_cut = poids*0.7;
let l_bulk = poids*0.9;

let g_maint = (tdee - (p_maint*4) - (l_maint*9))/4;
let g_cut = (tdee - 350 - (p_cut*4) - (l_cut*9))/4;
let g_bulk = (tdee + 350 - (p_bulk*4) - (l_bulk*9))/4;

// ==== AFFICHAGE ====
document.getElementById("bmr").innerText = Math.round(bmr);
document.getElementById("tdee").innerText = Math.round(tdee);

document.getElementById("imc").innerText = imc.toFixed(1);
document.getElementById("imc_cat").innerText = imc_cat;
document.getElementById("ideal").innerText = ideal+" kg";
document.getElementById("overweight").innerText = overweight+" kg";
document.getElementById("underweight").innerText = underweight+" kg";

document.getElementById("pcal_maint").innerText = Math.round(p_maint*4)+" kcal";
document.getElementById("lcal_maint").innerText = Math.round(l_maint*9)+" kcal";
document.getElementById("gcal_maint").innerText = Math.round(g_maint*4)+" kcal";

document.getElementById("p_maint").innerText = Math.round(p_maint)+" g/j";
document.getElementById("l_maint").innerText = Math.round(l_maint)+" g/j";
document.getElementById("g_maint").innerText = Math.round(g_maint)+" g/j";

document.getElementById("water").innerText =
`${(poids*30).toFixed(0)}‚Äì${(poids*35).toFixed(0)} ml/jour`;

document.getElementById("objective").innerText =
imc<18.5?"Prise de masse":
imc<25?"Maintien":
imc<30?"S√®che l√©g√®re":"Perte de poids progressive";

document.getElementById("score").innerText =
Math.max(0,Math.min(100,100-Math.abs(22.5-imc)*2));

document.getElementById("burn").innerText =
morpho==="ecto"?350:
morpho==="endo"?280:320;

document.getElementById("supps").innerText =
"Whey, Cr√©atine, Om√©ga-3, Magn√©sium, Vitamine D, Zinc";

document.getElementById("plan").innerText =
morpho==="ecto"?"3‚Äì4 musculation + 1 cardio l√©ger":
morpho==="endo"?"3 musculation + 2‚Äì3 cardio":
"4 musculation + 1 cardio";

document.getElementById("zigzag").innerText =
"Jours training +150 kcal ‚Ä¢ Jours repos ‚àí150 kcal";

const interpretations = [
"Maigreur : augmente progressivement les calories.",
"Normal : √©quilibre parfait.",
"Surpoids : d√©ficit calorique l√©ger recommand√©.",
"Ob√©sit√© : perte progressive et suivi conseill√©."
];

document.getElementById("advice").innerText =
interpretations[Math.floor(Math.random()*interpretations.length)];

document.getElementById("formPage").style.display="none";
document.getElementById("resultsPage").style.display="block";
}
</script>
</body>
</html>
